@{
    ViewData["Title"] = "Relatório de Impostos Mensais";
    var impostos = ViewBag.ImpostosMensais as List<dynamic>;
    var utilizador = Model.Utilizador;
}

<h1>@ViewData["Title"]</h1>
<h4>Utilizador: @utilizador?.Nome (@utilizador?.Email)</h4>
<h5>Carteira ID: @Model.CarteiraId</h5>

<hr />

@if (impostos != null && impostos.Any())
{
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>Designação</th>
            <th>Tipo de Ativo</th>
            <th>Mês/Ano</th>
            <th>Valor do Imposto</th>
        </tr>
        </thead>
        <tbody>
        @foreach (dynamic imposto in impostos)
        {
            <tr>
                <td>@imposto.Designacao</td>
                <td>@imposto.Tipo</td>
                <td>@imposto.MesAno</td>
                <td>@imposto.ValorImposto.ToString("C")</td>
            </tr>
        }
        </tbody>
    </table>
}
else
{
    <p>Não há dados de impostos mensais para este período.</p>
}

<hr />
<p><strong>Período:</strong> @ViewBag.DataInicio.ToShortDateString() - @ViewBag.DataFim.ToShortDateString()</p>